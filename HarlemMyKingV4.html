<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Apps</title>
<!-- Google Font for a clean look -->
<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet" />
<!-- Favicon for the main page -->
<link rel="icon" href="https://clouddrivecdn.classlink.com/favicons/2103/icon/apple-touch-icon.png?1743563540237" type="image/png" />
<style>
  body {
    margin: 0;
    background-color: #4b0082; /* Dark purple background for main page */
    font-family: 'Roboto', Arial, sans-serif;
    color: #fff;
    position: relative;
  }

  /* Settings Button styled as light purple for contrast */
  .settings-btn {
    position: absolute;
    top: 20px;
    right: 20px;
    padding: 8px 12px;
    background-color: #c39aff; /* Light purple for UI button */
    border: none;
    border-radius: 4px;
    color: #fff;
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.2s;
    font-size: 14px;
    z-index: 10;
  }
  .settings-btn:hover {
    background-color: #a76ed4;
  }

  /* Header at the top */
  .header {
    background-color: #4b0082;
    padding: 20px;
    text-align: center;
    font-size: 24px;
    font-weight: 700;
    letter-spacing: 2px;
  }

  /* Subtitle below header */
  .subtitle {
    text-align: center;
    margin-top: 10px;
    font-size: 16px;
    font-weight: normal;
  }

  /* URL Bar Styles */
  .url-bar {
    display: flex;
    align-items: center;
    background-color: #4b0082;
    padding: 12px 20px;
    margin-top: 10px;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    max-width: 90%;
    margin-left: auto;
    margin-right: auto;
  }
  .url-input {
    flex: 1;
    background-color: #8a2be2;
    border: none;
    padding: 10px 14px;
    border-radius: 4px;
    font-size: 14px;
    color: #fff;
  }
  .url-input::placeholder {
    color: #fff;
    opacity: 1;
  }
  .go-btn {
    margin-left: 12px;
    padding: 10px 20px;
    background-color: #9370db;
    border: none;
    border-radius: 4px;
    color: #fff;
    font-weight: 700;
    font-size: 14px;
    cursor: pointer;
    font-family: 'Roboto', Arial, sans-serif;
    transition: background-color 0.2s;
  }
  .go-btn:hover {
    background-color: #ad7be8;
  }

  /* Games Section */
  .games-section {
    margin-top: 20px;
    max-width: 90%;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
  }
  .games-title {
    font-weight: 700;
    font-size: 20px;
  }
  /* Style for the line between title and description */
  .games-divider-line {
    border: 1px solid #fff;
    width: 80%;
    margin: 10px auto;
    border-radius: 2px;
  }
  .games-desc {
    margin-top: 8px;
    font-size: 14px;
  }

  /* Button container */
  .button-container {
    margin-top: 15px;
    display: flex;
    justify-content: center;
    gap: 10px;
  }
  /* "Ball Dodge" button same color as Settings button */
  .ballDodge-btn {
    padding: 10px 20px;
    background-color: #c39aff;
    border: none;
    border-radius: 4px;
    font-weight: 700;
    font-size: 14px;
    cursor: pointer;
    color: #fff;
    font-family: 'Roboto', Arial, sans-serif;
    transition: background-color 0.3s, box-shadow 0.3s;
  }
  .ballDodge-btn:hover {
    background-color: #a76ed4;
    box-shadow: 0 0 10px rgba(167, 110, 212, 0.7);
  }

  /* Modal styles (light purple background) */
  .modal {
    display: none; /* Hidden by default */
    position: fixed; 
    z-index: 999; 
    left: 0;
    top: 0;
    width: 100%; 
    height: 100%; 
    overflow: auto; 
    background-color: rgba(0,0,0,0.5);
  }
  .modal-content {
    background-color: #f0e6ff; /* Light purple UI background */
    color: #000;
    margin: 15% auto;
    padding: 20px;
    border-radius: 8px;
    width: 350px;
    position: relative;
  }
  .close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    background: none;
    border: none;
    font-size: 22px;
    cursor: pointer;
    color: #555;
  }
  .close-btn:hover {
    color: #000;
  }
  .modal-input {
    width: 100%;
    padding: 8px;
    margin-top: 8px;
    margin-bottom: 12px;
    border-radius: 4px;
    border: 1px solid #ccc;
  }
  .modal-save {
    width: 100%;
    padding: 10px;
    background-color: #4b0082;
    color: #fff;
    border: none;
    border-radius: 4px;
    font-weight: 700;
    cursor: pointer;
  }
  .modal-save:hover {
    background-color: #2e006e;
  }
</style>
</head>
<body>

<!-- Settings Button -->
<button class="settings-btn" id="settingsBtn">Settings</button>

<!-- Settings Modal -->
<div id="settingsModal" class="modal">
  <div class="modal-content">
    <button class="close-btn" id="closeModal">&times;</button>
    <h3>Settings</h3>
    <label for="titleInput">Page Title:</label>
    <input type="text" id="titleInput" class="modal-input" placeholder="Enter page title" />
    <button class="modal-save" id="saveSettings">Save</button>
  </div>
</div>

<!-- Main UI -->
<div class="header">Harlem the Goat</div>
<div class="subtitle">Beta Stage of this product</div>

<div class="url-bar">
  <input type="text" id="urlInput" class="url-input" placeholder="Search google or type an URL" />
  <button id="goBtn" class="go-btn">Go</button>
</div>

<div class="games-section">
  <div class="games-title">Games</div>
  <hr class="games-divider-line" />
  <div class="games-desc">Games to play during your free time</div>
</div>

<div class="button-container">
  <button class="ballDodge-btn" id="ballDodgeBtn">Ball Dodge</button>
</div>

<script>
  let pageTitle = 'My Apps';

  const modal = document.getElementById('settingsModal');
  const settingsBtn = document.getElementById('settingsBtn');
  const closeModalBtn = document.getElementById('closeModal');
  const saveBtn = document.getElementById('saveSettings');
  const titleInput = document.getElementById('titleInput');

  settingsBtn.onclick = () => {
    titleInput.value = document.title;
    modal.style.display = 'block';
  };
  document.getElementById('closeModal').onclick = () => {
    modal.style.display = 'none';
  };
  window.onclick = (event) => {
    if (event.target == modal) modal.style.display = 'none';
  };
  saveBtn.onclick = () => {
    const newTitle = titleInput.value.trim();
    if (newTitle) {
      document.title = newTitle;
      pageTitle = newTitle;
    }
    modal.style.display = 'none';
  };

  // When clicking "Ball Dodge" button
document.getElementById('ballDodgeBtn').onclick = () => {
    const url = 'https://3kh0-assets.silvereen.net/3kh0-assets/ball-dodge';
    const title = "Google Drive";
    const faviconUrl = 'https://ssl.gstatic.com/images/branding/product/1x/drive_2020q4_48dp.png';

    const newTab = window.open('about:blank', '_blank');

    newTab.document.write(`
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <title>${title}</title>
        <link rel="icon" href="${faviconUrl}" type="image/png" />
        <style>
          html, body {
            margin: 0;
            height: 100%;
          }
          iframe {
            width: 100%;
            height: 100%;
            border: none;
          }
        </style>
      </head>
      <body>
        <iframe src="${url}"></iframe>
      </body>
      </html>
    `);
    newTab.document.close();
    newTab.onload = () => {
      newTab.document.title = title;
    };
  };

  // When clicking "Go" button
document.getElementById('goBtn').onclick = () => {
    const input = document.getElementById('urlInput').value.trim();
    if (!input) return;
    if (input.startsWith('https://')) {
      const url = input;
      const title = document.title;
      const newTab = window.open('about:blank', '_blank');

      newTab.document.write(`
        <!DOCTYPE html>
        <html lang="en">
        <head>
          <title>${title}</title>
          <style>
            html, body {
              margin: 0;
              height: 100%;
            }
            iframe {
              width: 100%;
              height: 100%;
              border: none;
            }
          </style>
        </head>
        <body>
          <iframe src="${url}"></iframe>
        </body>
        </html>
      `);
      newTab.document.close();
      newTab.onload = () => {
        newTab.document.title = title;
      };
    } else {
      // perform Google search
      const query = encodeURIComponent(input);
      window.open(`https://www.google.com/search?igu=1&q=${query}`, '_blank');
    }
  };

  // Shortcut for Ctrl+P
document.addEventListener('keydown', (event) => {
  if (event.ctrlKey && event.key.toLowerCase() === 'p') {
    event.preventDefault();
    window.location.href = 'https://myapps.classlink.com/home';
  }
});

// When press Enter in URL input
document.getElementById('urlInput').addEventListener('keydown', (event) => {
  if (event.key === 'Enter') {
    event.preventDefault();
    const input = document.getElementById('urlInput').value.trim();
    if (input.startsWith('https://')) {
      const url = input;
      const title = "My Apps"; // or current page title
      const faviconUrl = 'https://clouddrivecdn.classlink.com/favicons/2103/icon/apple-touch-icon.png?1743563540237';

      const newTab = window.open('about:blank', '_blank');

      newTab.document.write(`
        <!DOCTYPE html>
        <html lang="en">
        <head>
          <title>${title}</title>
          <link rel="icon" href="${faviconUrl}" type="image/png" />
          <style>
            html, body {
              margin: 0;
              height: 100%;
            }
            iframe {
              width: 100%;
              height: 100%;
              border: none;
            }
          </style>
        </head>
        <body>
          <iframe src="${url}"></iframe>
        </body>
        </html>
      `);
      newTab.document.close();
      newTab.onload = () => {
        newTab.document.title = title;
      };
    } else {
      // Load as Google search with your specified URL
      const query = encodeURIComponent(input);
      const searchUrl = `https://www.google.com/search?igu=1&q=${query}`;
      const newTab = window.open('about:blank', '_blank');

      newTab.document.write(`
        <!DOCTYPE html>
        <html lang="en">
        <head>
          <title>Google Drive</title>
          <style>
            html, body {
              margin: 0;
              height: 100%;
            }
            iframe {
              width: 100%;
              height: 100%;
              border: none;
            }
          </style>
        </head>
        <body>
          <iframe src="${searchUrl}"></iframe>
        </body>
        </html>
      `);
      newTab.document.close();
    }
  }
});
</script>
</body>
</html>
